<ion-header class="tall-header">
  <h2 class="title">Donations</h2>
  <p class="subtitle">Check in on your donations</p>
</ion-header>

<div class="content">
  <div fxLayoutAlign="center center" class="mt-3 mb-4">
    <mat-button-toggle-group #group="matButtonToggleGroup" value="byCharity">
      <mat-button-toggle value="byCharity">By Charity</mat-button-toggle>
      <mat-button-toggle value="byTransaction"
        >By Transaction</mat-button-toggle
      >
    </mat-button-toggle-group>
  </div>
  <ng-container *ngIf="group.value === 'byCharity'">
    <div *ngFor="let charity of charities">
      <ion-item
        class="charity-donation"
        detail="true"
        (click)="goToCharityDetails(charity.charityId)"
      >
        <div fxLayout="column" class="pt-1 pb-1">
          <div class="uxg-h6 mb-2">{{charity.charityName}}</div>
          <div class="uxg-body-2">${{charity.donatedAmount}} donated</div>
        </div>
      </ion-item>
    </div>
  </ng-container>
  <ng-container *ngIf="group.value === 'byTransaction'">
    <div fxLayout="column" fxLayoutAlign="center center">
      <div class="uxg-h3 mb-0 donated-amount">${{totalDonatedAmount}}</div>
      <div class="uxg-body-2 mb-4">total donated</div>
    </div>
    <div *ngFor="let transaction of transactions">
      <ion-item>
        <div fxLayout="column" class="pb1 pt1 data-container">
          <div class="uxg-subtitle-2">{{transaction.charityName}}</div>
          <!-- <div class="uxg-body-2">
            {{transaction.transactionType}}: {{transaction.transactionAmount}}
          </div> -->
          <div class="uxg-body-2">
            {{transaction.created_at | date:'short' }}
          </div>
        </div>
        <div class="uxg-h6 ml-4 donated-amount-container">
          ${{transaction.paymentMethod.donationAmount}}
        </div>
      </ion-item>
    </div>
  </ng-container>
</div>
